###########################################
# NewsPulse Admin Backend (.env.example)
#
# Copy this file to admin-backend/.env for LOCAL DEV ONLY.
# Do NOT commit your filled .env. In production (Render/Railway),
# set these as environment variables in the dashboard.
###########################################

# --- Core server ---
PORT=5000
MONGO_URI=

# --- OpenAI (GPT) ---
OPENAI_API_KEY=
OPENAI_MODEL=gpt-5
# Tip: you can also use `gpt-5-auto` if your account supports it; the server will fall back to
# `gpt-4o-mini` only if no model is set or access fails.

# --- Google Gemini ---
# Prefer GOOGLE_API_KEY; GEMINI_MODEL can be gemini-1.5-pro or gemini-2.5-pro if enabled
GOOGLE_API_KEY=
GEMINI_MODEL=gemini-1.5-pro

# --- CORS / client origin ---
# In production, prefer ALLOWED_ORIGINS or CORS_ORIGINS as a comma-separated list.
# We also honor CLIENT_ORIGIN for backward compatibility (single origin).
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_ORIGINS=
CLIENT_ORIGIN=

# --- Firebase Admin ---
# Absolute or relative path to your downloaded service account JSON (local dev only)
FIREBASE_CREDENTIAL_PATH=./config/serviceAccountKey.json
# Optional: your Storage bucket name for uploads/backups
FIREBASE_BUCKET=

# --- Optional tuning ---
# JSON_LIMIT=10mb
# OPENAI_TIMEOUT_MS=30000
# AI_TOOLS_MAX_INPUT_CHARS=24000
# AI_TOOLS_CHUNK_TRIGGER_CHARS=8000
# AI_TOOLS_CHUNK_SIZE_CHARS=3500

# --- Security (demo defaults; override in hosting) ---
JWT_SECRET=changeme

# --- Email (SMTP) for OTP delivery ---
# If these are not set, the server will log OTP emails to the console and, in dev,
# also return the code in the API response as devCode for easier testing.
#
# Provider presets:
# 1) Gmail (requires 2FA + App Password)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=465
# SMTP_SECURE=true
# SMTP_USER=youraddress@gmail.com
# SMTP_PASS=your_app_password
# SMTP_FROM="News Pulse <youraddress@gmail.com>"
#
# 2) SendGrid
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=apikey
# SMTP_PASS=SG.xxxxxx_your_sendgrid_api_key
# SMTP_FROM="News Pulse <no-reply@yourdomain.com>"
#
# 3) Mailgun
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=postmaster@yourdomain.com
# SMTP_PASS=your_mailgun_smtp_password
# SMTP_FROM="News Pulse <no-reply@yourdomain.com>"

# In dev, echo OTP code in API responses; set to 0 in production
OTP_DEV_ECHO=1

# Optional: even if SMTP is configured but fails (e.g., wrong password),
# allow local dev to proceed by returning the OTP in the API response.
# NEVER enable in production.
# 0 = default (no dev fallback when SMTP is configured)
# 1 = enable dev fallback (only when NODE_ENV!="production")
OTP_DEV_FORCE_FALLBACK=0
